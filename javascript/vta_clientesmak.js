function vta_clientesmak(){}function initCteMak(){var strNomMain=objMap.getNomMain();if(strNomMain=="PTO_VENTA"){document.getElementById("BTN1_CONSULTA").value="none";}}function selRowClientesCteMak(rowid,status){var grid1=jQuery("#GRID_CTE");var lista=grid1.getDataIDs();for(var i=0;i<lista.length;i++){var idlast=lista[rowid-1];var lstRow=grid1.getRowData(idlast);if(lstRow.CTE_VENDEDOR!="null"){document.getElementById("VEND_NOMBRE").value=lstRow.CTE_VENDEDOR;}else{document.getElementById("VEND_NOMBRE").value="";}document.getElementById("VEND_FORMAPAGO").value=lstRow.CTE_FORMAPAGO;document.getElementById("CTO_NOMBRE").value=lstRow.CTE_CONTACTO;document.getElementById("CTO_INFORMACION").value=lstRow.CTE_DIRECCION;}}function SearchCteMak(event){if(event.keyCode==13){document.getElementById("VEND_NOMBRE").value="";document.getElementById("CTO_NOMBRE").value="";document.getElementById("VEND_FORMAPAGO").value="";document.getElementById("CTO_INFORMACION").value="";var intIdCT=document.getElementById("SEARCHCTE").value;var intTipo=document.getElementById("CC1_ID").value;var intIdSc=document.getElementById("SC_ID").value;var itemIdCob=0;if(intIdCT!=""){var strPOST="intIdCT="+intIdCT+"&intTipo="+intTipo+"&intIdSc="+intIdSc;$.ajax({type:"POST",data:strPOST,scriptCharset:"utf-8",contentType:"application/x-www-form-urlencoded;charset=utf-8",cache:false,dataType:"xml",url:"ERP_PedidosMakProcs.jsp?id=1",success:function(datos){jQuery("#GRID_CTE").clearGridData();var lstXml=datos.getElementsByTagName("cliente")[0];var lstprecio=lstXml.getElementsByTagName("cliente_deta");for(var i=0;i<lstprecio.length;i++){var obj=lstprecio[i];var datarow={CTE_ID:obj.getAttribute("CT_ID"),CTE_RAZON_SOCIAL:obj.getAttribute("CT_RAZONSOCIAL"),CTE_RFC:obj.getAttribute("CT_RFC"),CTE_BODEGA:obj.getAttribute("sucursal"),CTE_EMAIL:obj.getAttribute("CT_EMAIL1"),CTE_TELEFONO:obj.getAttribute("CT_TELEFONO1"),CTE_DIRECCION:obj.getAttribute("direccion"),CTE_ACTIVO:obj.getAttribute("CT_ACTIVO"),CTE_FORMAPAGO:obj.getAttribute("CT_FORMADEPAGO"),CTE_CONTACTO:obj.getAttribute("CT_CONTACTO1"),CTE_SUCURSAL:obj.getAttribute("sucursal"),CTE_VENDEDOR:obj.getAttribute("vendedorNom"),CTE_MONEDA:obj.getAttribute("MON_ID"),CTE_VENDEDOR_ID:obj.getAttribute("CT_VENDEDOR"),CTE_LPRECIOS:obj.getAttribute("CT_LPRECIOS"),TTC_ID:obj.getAttribute("TTC_ID"),CTE_DESCUENTO:obj.getAttribute("CT_DESCUENTO"),SC_ID:obj.getAttribute("SC_ID")};itemIdCob++;jQuery("#GRID_CTE").addRowData(itemIdCob,datarow,"last");}},error:function(objeto,quepaso,otroobj){alert(":pto9:"+objeto+" "+quepaso+" "+otroobj);$("#dialogWait").dialog("close");}});}}}function ReporteEstClienteCteMak(){if(document.getElementById("FCT_ID").value!="0"||document.getElementById("FCT_ID").value!=""){var objSecModiVta=objMap.getScreen("EDO_CTA_CT");if(objSecModiVta!=null){objSecModiVta.bolActivo=false;objSecModiVta.bolMain=false;objSecModiVta.bolInit=false;objSecModiVta.idOperAct=0;}OpnOpt("EDO_CTA_CT","_ed","dlgMakEstadoCnta",false,false,true);}else{alert("Seleccione al cliente");}}function SalirPantallaCteMak(){$("#dialogCte").dialog("close");}function AgregaClienteCteMak(){var strNomMain=objMap.getNomMain();var grid=jQuery("#GRID_CTE");var id=grid.getGridParam("selrow");var lstRow=grid.getRowData(id);if(grid.getGridParam("selrow")!=null){if(strNomMain=="PEDIDOS_MAK"){document.getElementById("CT_NOM").value=lstRow.CTE_RAZON_SOCIAL;document.getElementById("FCT_ID").value=lstRow.CTE_ID;document.getElementById("cte_rfc").value=lstRow.CTE_RFC;document.getElementById("cte_direccion").value=lstRow.CTE_DIRECCION;document.getElementById("FAC_MONEDA").value=lstRow.CTE_MONEDA;document.getElementById("pd_bodega").value=document.getElementById("BOD_ID").value;document.getElementById("pd_vendedor").value=lstRow.CTE_VENDEDOR_ID;document.getElementById("TR_ID").value=0;document.getElementById("FCT_LPRECIOS").value=lstRow.CTE_LPRECIOS;RefreshMonedaCteMak();jQuery("#GRID_CTE").clearGridData();document.getElementById("SEARCHCTE").value="";document.getElementById("CC1_ID").value="";document.getElementById("VEND_NOMBRE").value="";document.getElementById("CTO_NOMBRE").value="";document.getElementById("VEND_FORMAPAGO").value="";document.getElementById("CTO_INFORMACION").value="";document.getElementById("cte_nomSubcte").value="";document.getElementById("cte_rfcSubcte").value="";document.getElementById("cte_direccionSubCliente").value="";document.getElementById("cte_telSubcte").value="";document.getElementById("CT_CLIENTEFINAL").value="";$("#dialogCte").dialog("close");}else{if(strNomMain=="PTO_VENTA"){document.getElementById("PTO_CLIENTE").value=lstRow.CTE_RAZON_SOCIAL;document.getElementById("PTO_MONEDA").value=lstRow.CTE_MONEDA;document.getElementById("PTO_DESCUENTO").value=parseFloat(lstRow.CTE_DESCUENTO);document.getElementById("PTO_CT_ID").value=lstRow.CTE_ID;document.getElementById("PTO_DIRECCION_CTE").value=lstRow.CTE_DIRECCION;sumTotal();$("#dialogCte").dialog("close");}}}else{alert("Selecciona un cliente de la tabla");}}function RefreshMonedaCteMak(){var objMoneda=document.getElementById("FAC_MONEDA");var objTipoCambio=document.getElementById("FAC_TASAPESO");if(objMoneda.value==1){objTipoCambio.value=1;objTipoCambio.setAttribute("class","READONLY");objTipoCambio.setAttribute("className","READONLY");objTipoCambio.readOnly=true;}else{objTipoCambio.value=1;objTipoCambio.setAttribute("class","outEdit");objTipoCambio.setAttribute("className","outEdit");objTipoCambio.readOnly=false;}}function consultaPedidosPrMak(){var objSecModiVta=objMap.getScreen("CONSUPEDIOS_MAK");if(objSecModiVta!=null){objSecModiVta.bolActivo=false;objSecModiVta.bolMain=false;objSecModiVta.bolInit=false;objSecModiVta.idOperAct=0;}OpnOpt("CONSUPEDIOS_MAK","_ed","dialog2",false,false,true);}