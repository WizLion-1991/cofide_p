jQuery.imagemap={inelement:false,ffGetPosition:function(obj){var topValue=0;var leftValue=0;var follow=obj;while(follow){leftValue+=follow.offsetLeft;topValue+=follow.offsetTop;follow=follow.offsetParent;}obj.actualPosX=leftValue;obj.actualPosY=topValue;},getEventX:function(ev){if(typeof ev.originalEvent=="undefined"){var oe=ev;}else{var oe=ev.originalEvent;}if(typeof oe.offsetX!="undefined"){return oe.offsetX;}if(typeof ev.originalTarget.actualPosX=="undefined"){jQuery.imagemap.ffGetPosition(ev.originalTarget);}return ev.originalEvent.pageX-ev.originalTarget.actualPosX;},getEventY:function(ev){if(typeof ev.originalEvent=="undefined"){var oe=ev;}else{var oe=ev.originalEvent;}if(typeof oe.offsetY!="undefined"){return oe.offsetY;}if(typeof ev.originalTarget.actualPosY=="undefined"){jQuery.imagemap.ffGetPosition(ev.originalTarget);}return ev.originalEvent.pageY-ev.originalTarget.actualPosY;}};jQuery.fn.imagemap=function(mapinfo){return this.each(function(){jQuery(this).click(function(ev){var x=jQuery.imagemap.getEventX(ev);var y=jQuery.imagemap.getEventY(ev);for(var i=0;i<mapinfo.length;i++){if((x>=mapinfo[i].top_x)&&(y>=mapinfo[i].top_y)&&(x<=mapinfo[i].bottom_x)&&(y<=mapinfo[i].bottom_y)){if(typeof mapinfo[i]["link"]!="undefined"){window.location=mapinfo[i]["link"];}else{mapinfo[i]["callback"](this,ev);}return;}}});jQuery(this).mousemove(function(ev){var x=jQuery.imagemap.getEventX(ev);var y=jQuery.imagemap.getEventY(ev);for(var i=0;i<mapinfo.length;i++){if((x>=mapinfo[i].top_x)&&(y>=mapinfo[i].top_y)&&(x<=mapinfo[i].bottom_x)&&(y<=mapinfo[i].bottom_y)){if(!jQuery.imagemap.inelement){$(this).css("cursor","pointer");jQuery.imagemap.inelement=true;}return;}}if(jQuery.imagemap.inelement){$(this).css("cursor","default");jQuery.imagemap.inelement=false;}});});};jQuery.fn.imagecoords=function(){return this.each(function(){jQuery(this).click(function(ev){var x=jQuery.imagemap.getEventX(ev);var y=jQuery.imagemap.getEventY(ev);alert("Clicked: "+x+","+y);});});};