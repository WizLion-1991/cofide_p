var itemId=0;var bolOpenCambioFecha=false;var gblStrCodigo="";var gblStrFechaAnt="";var gblcomId=0;function vta_productosOrden(){}function init(){document.getElementById("btn1").style.display="none";}function getProductosOrden(){var grid2=jQuery("#GRD_DATOS");grid2.clearGridData();$("#dialogWait").dialog("open");$.ajax({type:"POST",data:"codigo="+document.getElementById("PR_CODIGO").value,scriptCharset:"utf-8",contentType:"application/x-www-form-urlencoded;charset=utf-8",cache:false,dataType:"xml",url:"vta_productosOrden.jsp?ID=1",success:function(datos){var lstFolios=datos.getElementsByTagName("folios")[0];var objFolio=lstFolios.getElementsByTagName("folio")[0];var lstdatos=objFolio.getElementsByTagName("datos");for(j=0;j<lstdatos.length;j++){var objSeg=lstdatos[j];var datarowSeg={PR_CODIGO:objSeg.getAttribute("PR_CODIGO"),PR_DESCRIPCION:objSeg.getAttribute("PR_DESCRIPCION"),PR_ORDEN:objSeg.getAttribute("COM_ID"),HDD_COM_ID:objSeg.getAttribute("COM_ID_HIDDEN"),PR_FECHA_PROMESA:objSeg.getAttribute("PR_FECHA_PROMESA"),PR_CANTIDAD:objSeg.getAttribute("COMD_CANTIDAD"),PR_FECHAEST:objSeg.getAttribute("COM_FECHA_DISP_VTA"),PR_DIAS:objSeg.getAttribute("COM_DIAS")};itemId++;jQuery("#GRD_DATOS").addRowData(itemId,datarowSeg,"last");}},error:function(objeto,quepaso,otroobj){alert(":tarifas:"+objeto+" "+quepaso+" "+otroobj);}});$("#dialogWait").dialog("close");}function openReportPrdOrd(strAbrev,strTipo){var strHtml='<form action="Reportes_GeneralesShow" method="post" target="_blank" id="formSend">';strHtml+=CreaHidden("Abrev",strAbrev);strHtml+=CreaHidden("report",strTipo);strHtml+=CreaHidden("Orden","PR_ID");strHtml+=CreaHidden("pr_folio",document.getElementById("PR_CODIGO").value);strHtml+="</form>";document.getElementById("formHidden").innerHTML=strHtml;document.getElementById("formSend").submit();}function modiFechaPromesa(){$("#dialogWait").dialog("open");var bolSeleccion=false;var grid=jQuery("#GRD_DATOS");if(grid.getGridParam("selrow")!=null){bolSeleccion=true;}if(bolSeleccion){var id=grid.getGridParam("selrow");var lstRow=grid.getRowData(id);gblStrFechaAnt=lstRow.PR_FECHAEST;gblcomId=lstRow.HDD_COM_ID;gblStrCodigo=document.getElementById("PR_CODIGO").value;if(bolOpenCambioFecha){setTimeout("InitCambioFecha()",1000);$("#dialogCancelar").dialog("open");}else{setTimeout("InitCambioFecha()",1000);OpnOpt("MODPRO",null,"dialogCancelar",false,false,true);}}else{alert("SELECCIONA UN PRODUCTO!");}$("#dialogWait").dialog("close");}