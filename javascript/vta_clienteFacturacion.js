function vta_clienteFacturacion(){}function Init_clienteFacturacion(){document.getElementById("BTN_SAVE").parentNode.parentNode.style.display="none";document.getElementById("BTN_CANCEL").parentNode.parentNode.style.display="none";document.getElementById("BTN_NEW").parentNode.parentNode.style.display="";document.getElementById("BTN_DEL").parentNode.parentNode.style.display="";var idx=document.getElementById("FCT_ID").value;setTimeout("LoadctFacturacion_pto("+idx+")",1000);}function dblClick_clienteFacturacion(id){var strNomMain=objMap.getNomMain();var grid=jQuery("#grd_cteFacturacion_pto");var lstVal=grid.getRowData(id);if(strNomMain=="CTE_FAC"){OpnEdit(document.getElementById("Ed"+strNomMain));}else{if(strNomMain=="VENTAS"){document.getElementById("DFA_ID").value=lstVal.DFA_ID;document.getElementById("DFA_CT_NOMBRE").value=lstVal.DFA_RAZONSOCIAL;}}$("#dialogCte").dialog("close");}function LoadctFacturacion_pto(idx){var grid=jQuery("#grd_cteFacturacion_pto");grid.setGridParam({url:"CIP_TablaOp.jsp?ID=5&opnOpt=FAC_SUBCT&_search=true&CT_ID="+idx});grid.trigger("reloadGrid");}function status_campos(s){var strRazon=document.getElementById("DFA_RAZONSOCIAL");var strRfc=document.getElementById("DFA_RFC");var strCalle=document.getElementById("DFA_CALLE");var strNumero=document.getElementById("DFA_NUMERO");var strInt=document.getElementById("DFA_NUMINT");var strColonia=document.getElementById("DFA_COLONIA");var strLocalidad=document.getElementById("DFA_LOCALIDAD");var strMunicipio=document.getElementById("DFA_MUNICIPIO");var strEstado=document.getElementById("DFA_ESTADO");var strCp=document.getElementById("DFA_CP");if(s=="mostrar"){strRazon.parentNode.parentNode.style.display="";strRfc.parentNode.parentNode.style.display="";strCalle.parentNode.parentNode.style.display="";strNumero.parentNode.parentNode.style.display="";strInt.parentNode.parentNode.style.display="";strColonia.parentNode.parentNode.style.display="";strLocalidad.parentNode.parentNode.style.display="";strMunicipio.parentNode.parentNode.style.display="";strEstado.parentNode.parentNode.style.display="";strCp.parentNode.parentNode.style.display="";}if(s=="ocultar"){strRazon.parentNode.parentNode.style.display="none";strRfc.parentNode.parentNode.style.display="none";strCalle.parentNode.parentNode.style.display="none";strNumero.parentNode.parentNode.style.display="none";strInt.parentNode.parentNode.style.display="none";strColonia.parentNode.parentNode.style.display="none";strLocalidad.parentNode.parentNode.style.display="none";strMunicipio.parentNode.parentNode.style.display="none";strEstado.parentNode.parentNode.style.display="none";strCp.parentNode.parentNode.style.display="none";}if(s=="limpiar"){strRazon.value="";strRfc.value="";strCalle.value="";strNumero.value="";strInt.value="";strColonia.value="";strLocalidad.value="";strMunicipio.value="";strEstado.value="";strCp.value="";}}function newSubCt_pto(){status_campos("mostrar");document.getElementById("BTN_SAVE").parentNode.parentNode.style.display="";document.getElementById("BTN_CANCEL").parentNode.parentNode.style.display="";document.getElementById("BTN_NEW").parentNode.parentNode.style.display="none";document.getElementById("BTN_DEL").parentNode.parentNode.style.display="none";}function cancelSubCt_pto(){status_campos("ocultar");document.getElementById("BTN_SAVE").parentNode.parentNode.style.display="none";document.getElementById("BTN_CANCEL").parentNode.parentNode.style.display="none";document.getElementById("BTN_NEW").parentNode.parentNode.style.display="";document.getElementById("BTN_DEL").parentNode.parentNode.style.display="";status_campos("limpiar");}function saveSubCt_pto(){if(document.getElementById("FCT_ID").value==""||document.getElementById("FCT_ID").value=="0"){alert("ATENCIÓN: Primero debes seleccionar al cliente para asignarle sublcientes.");}else{var strPost="";if(validaDatos_sub()!=0){strPost="&DFA_RAZONSOCIAL="+document.getElementById("DFA_RAZONSOCIAL").value;strPost+="&DFA_RFC="+document.getElementById("DFA_RFC").value;strPost+="&DFA_CALLE="+document.getElementById("DFA_CALLE").value;strPost+="&DFA_NUMERO="+document.getElementById("DFA_NUMERO").value;strPost+="&DFA_NUMINT="+document.getElementById("DFA_NUMINT").value;strPost+="&DFA_COLONIA="+document.getElementById("DFA_COLONIA").value;strPost+="&DFA_LOCALIDAD="+document.getElementById("DFA_LOCALIDAD").value;strPost+="&DFA_MUNICIPIO="+document.getElementById("DFA_MUNICIPIO").value;strPost+="&DFA_ESTADO="+document.getElementById("DFA_ESTADO").value;strPost+="&DFA_CP="+document.getElementById("DFA_CP").value;strPost+="&CT_ID="+document.getElementById("FCT_ID").value;$.ajax({type:"POST",data:strPost,scriptCharset:"utf-8",contentType:"application/x-www-form-urlencoded;charset=utf-8",cache:false,dataType:"html",url:"ERP_SubclientesFac.jsp?ID=1",success:function(datos){if(datos.substring(0,2)=="OK"){LoadctFacturacion_pto(document.getElementById("FCT_ID").value);status_campos("ocultar");status_campos("limpiar");}else{alert(datos);}$("#dialogWait").dialog("close");},error:function(objeto,quepaso,otroobj){alert(":pto:"+objeto+" "+quepaso+" "+otroobj);}});}}}function validaDatos_sub(){var strRazon=document.getElementById("DFA_RAZONSOCIAL");var strRfc=document.getElementById("DFA_RFC");var strCalle=document.getElementById("DFA_CALLE");var strNumero=document.getElementById("DFA_NUMERO");var strInt=document.getElementById("DFA_NUMINT");var strColonia=document.getElementById("DFA_COLONIA");var strLocalidad=document.getElementById("DFA_LOCALIDAD");var strMunicipio=document.getElementById("DFA_MUNICIPIO");var strEstado=document.getElementById("DFA_ESTADO");var strCp=document.getElementById("DFA_CP");if(strRazon.value==""){alert("Atención: Captura la Razon Social");strRazon.focus();return 0;}if(strRfc.value==""){alert("Atención: Captura el RFC");strRfc.focus();return 0;}if(strCalle.value==""){alert("Atención: Captura nombre de la Calle");strCalle.focus();return 0;}if(strNumero.value==""){alert("Atención: Captura numero o S/N");strNumero.focus();return 0;}if(strColonia.value==""){alert("Atención: Captura nombre de colonia");strColonia.focus();return 0;}if(strCp.strMunicipio==""){alert("Atención: Captura el municipio");strMunicipio.focus();return 0;}if(strEstado.value==""){alert("Atención: Captura un estado");strEstado.focus();return 0;}if(strCp.value==""){alert("Atención: Captura el CP");strCp.focus();return 0;}return 1;}